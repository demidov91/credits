@model Tuple<Coffee.Entities.CreditRequest, decimal, decimal, List<Tuple<DateTime, decimal>>>

@{
    ViewBag.Title = "PaymentChart";
}

<h2>Credit Info</h2>

<p>@Model.Item1.Amount BYR issued @Model.Item1.IssueDate for @Model.Item1.Period months</p>
<p>@Model.Item1.PassportInfo.FullName, Passport#@Model.Item1.PassportInfo.PassportNumber</p>
<p>@Model.Item1.AdditionalTextInfo</p>

<p>Already paid: @Model.Item2</p>
<p>Total to pay: @Model.Item3</p>

Remaining payments:
@foreach (var p in Model.Item4)
{
    string style = p.Item1 < DateTime.Now ? "background-color: red;" : "";
    <p style="@style">@(p.Item1.ToShortDateString() + " -- " + p.Item2.ToString() + "BYR")</p>
}

@Html.ActionLink("Accept payment", "Accept", new RouteValueDictionary() { { "req", @Model.Item1 } })